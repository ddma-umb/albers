(()=>{var r={243:r=>{if(!t)var t={map:function(r,t){var n={};return t?r.map((function(r,o){return n.index=o,t.call(n,r)})):r.slice()},naturalOrder:function(r,t){return r<t?-1:r>t?1:0},sum:function(r,t){var n={};return r.reduce(t?function(r,o,e){return n.index=e,r+t.call(n,o)}:function(r,t){return r+t},0)},max:function(r,n){return Math.max.apply(null,n?t.map(r,n):r)}};var n=function(){function r(r,t,n){return(r<<10)+(t<<5)+n}function n(r){var t=[],n=!1;function o(){t.sort(r),n=!0}return{push:function(r){t.push(r),n=!1},peek:function(r){return n||o(),void 0===r&&(r=t.length-1),t[r]},pop:function(){return n||o(),t.pop()},size:function(){return t.length},map:function(r){return t.map(r)},debug:function(){return n||o(),t}}}function o(r,t,n,o,e,u,a){var i=this;i.r1=r,i.r2=t,i.g1=n,i.g2=o,i.b1=e,i.b2=u,i.histo=a}function e(){this.vboxes=new n((function(r,n){return t.naturalOrder(r.vbox.count()*r.vbox.volume(),n.vbox.count()*n.vbox.volume())}))}function u(n,o){if(o.count()){var e=o.r2-o.r1+1,u=o.g2-o.g1+1,a=o.b2-o.b1+1,i=t.max([e,u,a]);if(1==o.count())return[o.copy()];var c,f,s,v,l=0,p=[],h=[];if(i==e)for(c=o.r1;c<=o.r2;c++){for(v=0,f=o.g1;f<=o.g2;f++)for(s=o.b1;s<=o.b2;s++)v+=n[r(c,f,s)]||0;l+=v,p[c]=l}else if(i==u)for(c=o.g1;c<=o.g2;c++){for(v=0,f=o.r1;f<=o.r2;f++)for(s=o.b1;s<=o.b2;s++)v+=n[r(f,c,s)]||0;l+=v,p[c]=l}else for(c=o.b1;c<=o.b2;c++){for(v=0,f=o.r1;f<=o.r2;f++)for(s=o.g1;s<=o.g2;s++)v+=n[r(f,s,c)]||0;l+=v,p[c]=l}return p.forEach((function(r,t){h[t]=l-r})),function(r){var t,n,e,u,a,i=r+"1",f=r+"2",s=0;for(c=o[i];c<=o[f];c++)if(p[c]>l/2){for(e=o.copy(),u=o.copy(),a=(t=c-o[i])<=(n=o[f]-c)?Math.min(o[f]-1,~~(c+n/2)):Math.max(o[i],~~(c-1-t/2));!p[a];)a++;for(s=h[a];!s&&p[a-1];)s=h[--a];return e[f]=a,u[i]=e[f]+1,[e,u]}}(i==e?"r":i==u?"g":"b")}}return o.prototype={volume:function(r){var t=this;return t._volume&&!r||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var n=this,o=n.histo;if(!n._count_set||t){var e,u,a,i=0;for(e=n.r1;e<=n.r2;e++)for(u=n.g1;u<=n.g2;u++)for(a=n.b1;a<=n.b2;a++)i+=o[r(e,u,a)]||0;n._count=i,n._count_set=!0}return n._count},copy:function(){var r=this;return new o(r.r1,r.r2,r.g1,r.g2,r.b1,r.b2,r.histo)},avg:function(t){var n=this,o=n.histo;if(!n._avg||t){var e,u,a,i,c=0,f=0,s=0,v=0;for(u=n.r1;u<=n.r2;u++)for(a=n.g1;a<=n.g2;a++)for(i=n.b1;i<=n.b2;i++)c+=e=o[r(u,a,i)]||0,f+=e*(u+.5)*8,s+=e*(a+.5)*8,v+=e*(i+.5)*8;n._avg=c?[~~(f/c),~~(s/c),~~(v/c)]:[~~(8*(n.r1+n.r2+1)/2),~~(8*(n.g1+n.g2+1)/2),~~(8*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(r){var t=this,n=r[0]>>3;return gval=r[1]>>3,bval=r[2]>>3,n>=t.r1&&n<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},e.prototype={push:function(r){this.vboxes.push({vbox:r,color:r.avg()})},palette:function(){return this.vboxes.map((function(r){return r.color}))},size:function(){return this.vboxes.size()},map:function(r){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(r))return t.peek(n).color;return this.nearest(r)},nearest:function(r){for(var t,n,o,e=this.vboxes,u=0;u<e.size();u++)((n=Math.sqrt(Math.pow(r[0]-e.peek(u).color[0],2)+Math.pow(r[1]-e.peek(u).color[1],2)+Math.pow(r[2]-e.peek(u).color[2],2)))<t||void 0===t)&&(t=n,o=e.peek(u).color);return o},forcebw:function(){var r=this.vboxes;r.sort((function(r,n){return t.naturalOrder(t.sum(r.color),t.sum(n.color))}));var n=r[0].color;n[0]<5&&n[1]<5&&n[2]<5&&(r[0].color=[0,0,0]);var o=r.length-1,e=r[o].color;e[0]>251&&e[1]>251&&e[2]>251&&(r[o].color=[255,255,255])}},{quantize:function(a,i){if(!a.length||i<2||i>256)return!1;var c=function(t){var n,o,e,u,a=new Array(32768);return t.forEach((function(t){o=t[0]>>3,e=t[1]>>3,u=t[2]>>3,n=r(o,e,u),a[n]=(a[n]||0)+1})),a}(a);c.forEach((function(){}));var f=function(r,t){var n,e,u,a=1e6,i=0,c=1e6,f=0,s=1e6,v=0;return r.forEach((function(r){n=r[0]>>3,e=r[1]>>3,u=r[2]>>3,n<a?a=n:n>i&&(i=n),e<c?c=e:e>f&&(f=e),u<s?s=u:u>v&&(v=u)})),new o(a,i,c,f,s,v,t)}(a,c),s=new n((function(r,n){return t.naturalOrder(r.count(),n.count())}));function v(r,t){for(var n,o=1,e=0;e<1e3;)if((n=r.pop()).count()){var a=u(c,n),i=a[0],f=a[1];if(!i)return;if(r.push(i),f&&(r.push(f),o++),o>=t)return;if(e++>1e3)return}else r.push(n),e++}s.push(f),v(s,.75*i);for(var l=new n((function(r,n){return t.naturalOrder(r.count()*r.volume(),n.count()*n.volume())}));s.size();)l.push(s.pop());v(l,i-l.size());for(var p=new e;l.size();)p.push(l.pop());return p}}}();r.exports=n.quantize},925:(r,t,n)=>{"use strict";var o=n(243),e=n.n(o),u=function(r,t){var n=document.createElement("canvas"),o=n.getContext("2d"),u=new Image;u.src=r,n.width=120,n.height=120,o.drawImage(u,0,0,n.width,n.height);for(var a=o.getImageData(0,0,n.width,n.height),i=0;i<a.data.length;i+=4*resolution){let r=a.data[0+i],t=a.data[1+i],n=a.data[2+i];myPixels.push([r,t,n])}return t=t,e()(myPixels,t).palette()};(r=n.hmd(r)).exports=u}},t={};function n(o){if(t[o])return t[o].exports;var e=t[o]={id:o,loaded:!1,exports:{}};return r[o](e,e.exports,n),e.loaded=!0,e.exports}n.n=r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return n.d(t,{a:t}),t},n.d=(r,t)=>{for(var o in t)n.o(t,o)&&!n.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},n.hmd=r=>((r=Object.create(r)).children||(r.children=[]),Object.defineProperty(r,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+r.id)}}),r),n.o=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),n(925)})();